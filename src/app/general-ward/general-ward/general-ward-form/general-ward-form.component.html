<div style="flex: 1">
  <div style="display: flex; margin-top: 1rem; margin-bottom: 2rem">
    <button class="btn btn-primary btn__crud" (click)="new()">New</button>
    <button
      *ngIf="generalWardStoreService.isUpdate$ | async"
      class="btn btn-success btn__crud"
      (click)="save()"
    >
      Update
    </button>
    <button
      *ngIf="!(generalWardStoreService.isUpdate$ | async)"
      class="btn btn-success btn__crud"
      (click)="save()"
    >
      Save
    </button>
    <button class="btn btn-danger btn__crud" (click)="delete()">Delete</button>
    <button class="btn btn-primary btn__crud" (click)="print()">Print</button>
    <div style="flex: 1"></div>
    <div>
      <input
        type="date"
        [(ngModel)]="date"
        class="form-control form__input"
        (change)="handleDateChange($event)"
      />
    </div>
  </div>
  <div class="flex__row" style="flex-wrap: wrap; justify-content: space-around">
    <div
      class="card __raised gw__card"
      *ngFor="let data of formData"
      style="flex: 0 0 48%"
    >
      <div class="__title">
        <i
          [class]="['fas', data.icon]"
          style="font-size: 2rem; margin-right: 1rem"
          *ngIf="data.icon"
        ></i>
        <span
          style="
            background-color: #eceef1;
            padding: 0.5rem 1rem;
            border-radius: 1.5rem;
          "
          >{{ data.problemName }}</span
        >
      </div>
      <div class="flex__row header__row">
        <div class="flex__item">Interventions</div>
        <div class="flex__item">Initial Date</div>
        <div class="flex__item">Nurse</div>
        <div class="flex__item">Outcome Met</div>
      </div>
      <hr />
      <div
        class="flex__row"
        *ngFor="let innerData of data.items; let innerIndex = index"
      >
        <div class="flex__item">
          <input
            [readonly]="innerData.readonly"
            *ngIf="innerData.interventions.length == 1"
            type="text"
            class="form-control form__input"
            [(ngModel)]="innerData.interventions[0]"
          />
          <select
            *ngIf="innerData.interventions.length != 1"
            class="form-control form__input"
            [(ngModel)]="innerData.selectedInterventions"
          >
            <option
              *ngFor="
                let intervention of innerData.interventions;
                let i = index
              "
              [value]="i + ''"
            >
              {{ intervention }}
            </option>
          </select>
        </div>
        <div class="flex__item">
          <input
            style="width: 140px"
            type="date"
            class="form-control form__input"
            [(ngModel)]="innerData.initialDate"
          />
        </div>
        <div
          class="flex__item flex__row"
          style="align-items: center; justify-content: center"
        >
          <input
            type="checkbox"
            (change)="dayHandler($event, innerData)"
            [(ngModel)]="innerData.dayNurse"
          />
          <div style="font-size: 12px; padding: 0 7px">day</div>
          <input
            type="checkbox"
            (change)="nightHandler($event, innerData)"
            [(ngModel)]="innerData.nightNurse"
          />
          <div style="font-size: 12px; padding: 0 7px">night</div>
        </div>
        <div
          class="flex__item flex__row"
          style="align-items: center; justify-content: center"
        >
          <!-- <input
            type="radio"
            [name]="data.problemName + innerIndex"
            [(ngModel)]="innerData.outcomeMet"
            value="y"
          />
          <div style="font-size: 12px; padding: 0 7px">Yes</div>
          <input
            type="radio"
            [name]="data.problemName + innerIndex"
            [(ngModel)]="innerData.outcomeMet"
            value="n"
          />
          <div style="font-size: 12px; padding: 0 7px">No</div> -->
          <input type="checkbox" [(ngModel)]="innerData.outcomeMet" />
        </div>
      </div>
      <div class="flex__row" style="justify-content: center">
        <button
          (click)="addRow(data.items)"
          class="btn btn-outline-secondary btn__more"
        >
          Add More
        </button>
      </div>
    </div>
  </div>
</div>
